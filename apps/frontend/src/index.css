/* Google Fonts - Pixel Fonts (must be first) */
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap');

@import "tailwindcss";

/* ========================================
   PIXEL PASTEL THEME
   8-bit Retro with Pastel Colors
   ======================================== */

:root {
  --radius: 0px;

  /* Pixel styling */
  --pixel-border: 3px;
  --pixel-shadow: 4px;

  /* Light Mode - Default */
  --background: 30 100% 97%;
  --foreground: 270 10% 30%;
  --card: 0 0% 100%;
  --card-foreground: 270 10% 30%;
  --popover: 0 0% 100%;
  --popover-foreground: 270 10% 30%;
  --primary: 270 30% 72%;
  --primary-foreground: 270 10% 20%;
  --secondary: 156 40% 72%;
  --secondary-foreground: 156 40% 20%;
  --muted: 30 20% 90%;
  --muted-foreground: 270 10% 50%;
  --accent: 25 100% 84%;
  --accent-foreground: 25 60% 30%;
  --destructive: 0 60% 80%;
  --destructive-foreground: 0 60% 30%;
  --border: 30 15% 85%;
  --input: 30 15% 85%;
  --ring: 270 30% 72%;

  /* Semantic colors */
  --income: 156 40% 72%;
  --income-foreground: 156 50% 25%;
  --expense: 0 70% 80%;
  --expense-foreground: 0 50% 30%;

  /* Chart colors - Pastel */
  --chart-1: 270 30% 72%;
  --chart-2: 156 40% 72%;
  --chart-3: 25 100% 84%;
  --chart-4: 195 60% 80%;
  --chart-5: 0 70% 80%;

  /* Sidebar */
  --sidebar-background: 270 20% 95%;
  --sidebar-foreground: 270 10% 30%;
  --sidebar-primary: 270 30% 72%;
  --sidebar-primary-foreground: 270 10% 20%;
  --sidebar-accent: 270 20% 90%;
  --sidebar-accent-foreground: 270 10% 30%;
  --sidebar-border: 30 15% 85%;
  --sidebar-ring: 270 30% 72%;
}

.dark {
  --background: 270 20% 17%;
  --foreground: 30 100% 97%;
  --card: 270 15% 23%;
  --card-foreground: 30 100% 97%;
  --popover: 270 15% 23%;
  --popover-foreground: 30 100% 97%;
  --primary: 270 60% 80%;
  --primary-foreground: 270 20% 17%;
  --secondary: 156 60% 70%;
  --secondary-foreground: 156 40% 15%;
  --muted: 270 15% 30%;
  --muted-foreground: 270 20% 70%;
  --accent: 25 100% 78%;
  --accent-foreground: 25 60% 20%;
  --destructive: 0 70% 70%;
  --destructive-foreground: 0 0% 100%;
  --border: 270 15% 35%;
  --input: 270 15% 35%;
  --ring: 270 60% 80%;

  /* Semantic colors - Dark */
  --income: 156 70% 65%;
  --income-foreground: 156 70% 15%;
  --expense: 0 80% 70%;
  --expense-foreground: 0 0% 100%;

  /* Chart colors - Bright pastels for dark mode */
  --chart-1: 270 60% 80%;
  --chart-2: 156 70% 65%;
  --chart-3: 25 100% 78%;
  --chart-4: 195 80% 70%;
  --chart-5: 0 80% 70%;

  /* Sidebar - Dark */
  --sidebar-background: 270 20% 17%;
  --sidebar-foreground: 30 100% 97%;
  --sidebar-primary: 270 60% 80%;
  --sidebar-primary-foreground: 270 20% 17%;
  --sidebar-accent: 270 15% 25%;
  --sidebar-accent-foreground: 30 100% 97%;
  --sidebar-border: 270 15% 35%;
  --sidebar-ring: 270 60% 80%;
}

/* Pixel Pastel Theme Tokens */
@theme {
  /* Income/Expense specific */
  --color-income: hsl(var(--income));
  --color-expense: hsl(var(--expense));

  /* Pixel shadows - solid offset instead of blur */
  --shadow-pixel: var(--pixel-shadow) var(--pixel-shadow) 0 0 hsl(var(--border));
  --shadow-pixel-sm: 2px 2px 0 0 hsl(var(--border));
  --shadow-pixel-hover: calc(var(--pixel-shadow) + 2px) calc(var(--pixel-shadow) + 2px) 0 0 hsl(var(--border));

  /* Legacy shadows for compatibility */
  --shadow-sm: 2px 2px 0 0 hsl(var(--border));
  --shadow-card: var(--pixel-shadow) var(--pixel-shadow) 0 0 hsl(var(--border));
  --shadow-lg: 6px 6px 0 0 hsl(var(--border));

  /* Border radius - none for pixel look */
  --radius-sm: 0;
  --radius-md: 0;
  --radius-lg: 0;
  --radius-xl: 0;
  --radius-2xl: 0;

  /* Transitions - snappy for game feel */
  --transition-fast: 100ms steps(2);
  --transition-normal: 150ms steps(3);
  --transition-slow: 200ms steps(4);
}

/* Base styles */
* {
  box-sizing: border-box;
  /* Disable anti-aliasing for crisp pixels */
  -webkit-font-smoothing: none;
  -moz-osx-font-smoothing: unset;
  image-rendering: pixelated;
}

html {
  scroll-behavior: auto; /* No smooth scroll for retro feel */
}

body {
  font-family: "VT323", monospace;
  font-size: 18px;
  background: hsl(var(--background));
  color: hsl(var(--foreground));
  line-height: 1.4;
}

/* Dark mode class on html/body */
.dark body {
  background: hsl(var(--background));
  color: hsl(var(--foreground));
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: "Press Start 2P", monospace;
  font-weight: 400;
  letter-spacing: 0;
  line-height: 1.6;
}

h1 { font-size: 1.25rem; }
h2 { font-size: 1rem; }
h3 { font-size: 0.875rem; }
h4, h5, h6 { font-size: 0.75rem; }

/* Scrollbar styling - Pixel style */
::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

::-webkit-scrollbar-track {
  background: hsl(var(--muted));
  border: 2px solid hsl(var(--border));
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--primary));
  border: 2px solid hsl(var(--border));
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--accent));
}

/* Focus styles - Pixel outline */
:focus-visible {
  outline: 3px solid hsl(var(--primary));
  outline-offset: 0px;
}

/* ========================================
   Utility Classes - Pixel Style
   ======================================== */

/* Pixel box - base class for pixel-styled containers */
.pixel-box {
  border: var(--pixel-border) solid hsl(var(--border));
  box-shadow: var(--shadow-pixel);
  background: hsl(var(--card));
}

.pixel-box:hover {
  box-shadow: var(--shadow-pixel-hover);
  transform: translate(-2px, -2px);
}

/* Glass replacement - just solid colors for pixel look */
.glass {
  background: hsl(var(--card));
  border: var(--pixel-border) solid hsl(var(--border));
  box-shadow: var(--shadow-pixel);
}

/* Solid color blocks instead of gradients */
.gradient-primary {
  background: hsl(var(--primary));
}

.gradient-secondary {
  background: hsl(var(--secondary));
}

.gradient-success {
  background: hsl(var(--income));
}

.gradient-danger {
  background: hsl(var(--expense));
}

/* Pixel text effect */
.pixel-text {
  font-family: "Press Start 2P", monospace;
  text-shadow: 2px 2px 0 hsl(var(--border));
}

/* Scanline overlay effect */
.scanlines {
  position: relative;
}

.scanlines::after {
  content: "";
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.1) 2px,
    rgba(0, 0, 0, 0.1) 4px
  );
  pointer-events: none;
}

/* CRT screen glow effect */
.crt-glow {
  box-shadow:
    inset 0 0 60px rgba(180, 160, 200, 0.1),
    var(--shadow-pixel);
}

/* ========================================
   Animations - 8-bit Style
   ======================================== */

@keyframes pixel-fade-in {
  0% { opacity: 0; }
  50% { opacity: 0; }
  100% { opacity: 1; }
}

@keyframes pixel-slide-right {
  0% { transform: translateX(-8px); opacity: 0; }
  50% { transform: translateX(-4px); opacity: 0.5; }
  100% { transform: translateX(0); opacity: 1; }
}

@keyframes pixel-blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

@keyframes pixel-bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
}

@keyframes coin-float {
  0% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
  100% {
    transform: translateY(-40px) scale(0.5);
    opacity: 0;
  }
}

@keyframes spin-pixel {
  0% { transform: rotate(0deg); }
  25% { transform: rotate(90deg); }
  50% { transform: rotate(180deg); }
  75% { transform: rotate(270deg); }
  100% { transform: rotate(360deg); }
}

@keyframes health-bar-fill {
  from { width: 0; }
}

.animate-fade-in {
  animation: pixel-fade-in 0.3s steps(3) forwards;
}

.animate-slide-in {
  animation: pixel-slide-right 0.3s steps(4) forwards;
}

.animate-blink {
  animation: pixel-blink 0.5s steps(1) infinite;
}

.animate-bounce {
  animation: pixel-bounce 0.4s steps(2) infinite;
}

.animate-coin {
  animation: coin-float 0.8s steps(8) forwards;
}

.animate-spin {
  animation: spin-pixel 1s steps(4) infinite;
}

/* ========================================
   Card Component - Pixel Style
   ======================================== */

.card {
  background: hsl(var(--card));
  border: var(--pixel-border) solid hsl(var(--border));
  box-shadow: var(--shadow-pixel);
  transition: all var(--transition-normal);
  position: relative;
}

.card:hover {
  box-shadow: var(--shadow-pixel-hover);
  transform: translate(-2px, -2px);
}

/* ========================================
   Button Component - Pixel Style
   ======================================== */

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  font-family: "VT323", monospace;
  font-weight: 400;
  font-size: 1.125rem;
  border: var(--pixel-border) solid hsl(var(--border));
  box-shadow: var(--shadow-pixel);
  transition: all var(--transition-fast);
  cursor: pointer;
  text-decoration: none;
  position: relative;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.btn:hover:not(:disabled) {
  box-shadow: var(--shadow-pixel-hover);
  transform: translate(-2px, -2px);
}

.btn:active:not(:disabled) {
  box-shadow: none;
  transform: translate(2px, 2px);
}

.btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none !important;
  box-shadow: var(--shadow-pixel-sm) !important;
}

.btn-primary {
  background: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
  border-color: hsl(var(--primary-foreground) / 0.3);
}

.btn-primary:hover:not(:disabled) {
  background: hsl(var(--primary) / 0.8);
}

.btn-secondary {
  background: hsl(var(--muted));
  color: hsl(var(--foreground));
  border-color: hsl(var(--border));
}

.btn-secondary:hover:not(:disabled) {
  background: hsl(var(--accent));
}

.btn-danger {
  background: hsl(var(--expense));
  color: hsl(var(--expense-foreground));
  border-color: hsl(var(--expense-foreground) / 0.3);
}

.btn-danger:hover:not(:disabled) {
  background: hsl(var(--expense) / 0.8);
}

/* ========================================
   Input Component - Pixel Style
   ======================================== */

.input {
  width: 100%;
  padding: 0.75rem 1rem;
  font-family: "VT323", monospace;
  font-size: 1.125rem;
  background: hsl(var(--background));
  border: var(--pixel-border) solid hsl(var(--border));
  box-shadow: inset 2px 2px 0 0 hsl(var(--border));
  color: hsl(var(--foreground));
  transition: all var(--transition-fast);
}

.input:focus {
  outline: none;
  border-color: hsl(var(--primary));
  box-shadow: inset 2px 2px 0 0 hsl(var(--primary));
}

.input::placeholder {
  color: hsl(var(--muted-foreground));
}

/* ========================================
   Label Component - Pixel Style
   ======================================== */

.label {
  display: block;
  margin-bottom: 0.5rem;
  font-family: "Press Start 2P", monospace;
  font-size: 0.625rem;
  color: hsl(var(--muted-foreground));
  text-transform: uppercase;
}

/* ========================================
   Badge Component - Pixel Style
   ======================================== */

.badge {
  display: inline-flex;
  align-items: center;
  padding: 0.25rem 0.5rem;
  font-family: "VT323", monospace;
  font-size: 1rem;
  border: 2px solid;
  text-transform: uppercase;
}

.badge-income {
  background: hsl(var(--income));
  color: hsl(var(--income-foreground));
  border-color: hsl(var(--income-foreground) / 0.3);
}

.badge-expense {
  background: hsl(var(--expense));
  color: hsl(var(--expense-foreground));
  border-color: hsl(var(--expense-foreground) / 0.3);
}

.badge-primary {
  background: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
  border-color: hsl(var(--primary-foreground) / 0.3);
}

.badge-secondary {
  background: hsl(var(--accent));
  color: hsl(var(--accent-foreground));
  border-color: hsl(var(--accent-foreground) / 0.3);
}

/* ========================================
   Spinner - Pixel Style (block animation)
   ======================================== */

.spinner {
  display: inline-block;
  width: 1rem;
  height: 1rem;
  background: currentColor;
  animation: pixel-blink 0.4s steps(1) infinite;
}

.spinner-lg {
  width: 1.5rem;
  height: 1.5rem;
}

.input:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* ========================================
   Stat Card - Pixel Style
   ======================================== */

.stat-card {
  position: relative;
}

/* ========================================
   Skeleton Loading - Pixel Style
   ======================================== */

.skeleton {
  background: hsl(var(--muted));
  animation: pixel-blink 0.8s steps(1) infinite;
}

/* ========================================
   Tooltip - Pixel Style
   ======================================== */

.tooltip {
  position: relative;
}

.tooltip::after {
  content: attr(data-tooltip);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  padding: 0.5rem 0.75rem;
  font-family: "VT323", monospace;
  font-size: 1rem;
  background: hsl(var(--popover));
  border: var(--pixel-border) solid hsl(var(--border));
  box-shadow: var(--shadow-pixel-sm);
  white-space: nowrap;
  opacity: 0;
  visibility: hidden;
  z-index: 50;
}

.tooltip:hover::after {
  opacity: 1;
  visibility: visible;
  transform: translateX(-50%) translateY(-4px);
}

/* ========================================
   Health Bar (Progress) - Pixel Style
   ======================================== */

.health-bar {
  display: flex;
  gap: 2px;
  height: 16px;
  padding: 2px;
  background: hsl(var(--muted));
  border: 2px solid hsl(var(--border));
}

.health-bar-segment {
  flex: 1;
  background: hsl(var(--primary));
  transition: background var(--transition-fast);
}

.health-bar-segment.empty {
  background: transparent;
}

.health-bar-income .health-bar-segment {
  background: hsl(var(--income));
}

.health-bar-expense .health-bar-segment {
  background: hsl(var(--expense));
}

/* ========================================
   Pixel Art Decorations
   ======================================== */

.pixel-coin {
  display: inline-block;
  width: 16px;
  height: 16px;
  background: hsl(var(--accent));
  border: 2px solid hsl(var(--accent-foreground) / 0.5);
  box-shadow: inset -2px -2px 0 0 hsl(var(--accent-foreground) / 0.3);
}

.pixel-heart {
  display: inline-block;
  width: 16px;
  height: 14px;
  background: hsl(var(--expense));
  clip-path: polygon(50% 100%, 0% 35%, 15% 0%, 50% 20%, 85% 0%, 100% 35%);
}

.pixel-star {
  display: inline-block;
  width: 16px;
  height: 16px;
  background: hsl(var(--accent));
  clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
}
